library(bbplot)
library(ggthemes)
library(aws.s3)
ART_DATA_URI <- "s3://artventure-8cgc8pg/art_pieces.csv"
Sys.setenv("AWS_DEFAULT_REGION" = "us-east-1")
Sys.getenv("AWS_ACCESS_KEY_ID")
knitr::opts_chunk$set(echo = F, message = F, warning = T)
library(tidyverse)
library(glue)
library(bbplot)
library(ggthemes)
library(aws.s3)
ART_DATA_URI <- "s3://artventure-8cgc8pg/art_pieces.csv"
Sys.setenv("AWS_DEFAULT_REGION" = "us-east-1")
Sys.getenv("AWS_ACCESS_KEY_ID")
knitr::opts_chunk$set(echo = F, message = F, warning = T)
library(tidyverse)
library(glue)
library(bbplot)
library(ggthemes)
library(aws.s3)
ART_DATA_URI <- "s3://artventure-8cgc8pg/art_pieces.csv"
Sys.setenv("AWS_DEFAULT_REGION" = "us-east-1")
Sys.getenv("AWS_ACCESS_KEY_ID")
knitr::opts_chunk$set(echo = F, message = F, warning = T)
library(tidyverse)
library(glue)
library(bbplot)
library(ggthemes)
library(aws.s3)
ART_DATA_URI <- "s3://artventure-8cgc8pg/art_pieces.csv"
Sys.setenv("AWS_DEFAULT_REGION" = "us-east-1")
Sys.getenv("AWS_ACCESS_KEY_ID")
data <- s3read_using(read_csv, object = ART_DATA_URI)
knitr::opts_chunk$set(echo = F, message = F, warning = T)
library(knitr)
library(tidyverse)
library(glue)
library(bbplot)
library(ggthemes)
library(aws.s3)
library(knitr)
ART_DATA_URI <- "s3://artventure-8cgc8pg/art_pieces.csv"
Sys.setenv("AWS_DEFAULT_REGION" = "us-east-1")
Sys.getenv("AWS_ACCESS_KEY_ID")
data <- s3read_using(read_csv, object = ART_DATA_URI)
data %>% glimpse()
plotQual <- function(data, var) {
varData <- data %>%
group_by(!!sym(var)) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na()
plot <- varData %>%
ggplot(aes(!!sym(var), n)) +
geom_bar(stat = "identity", fill="steelblue") +
scale_x_discrete(limit = varData %>% pull(!!sym(var))) +
coord_flip() +
bbc_style()
plot %>%
finalise_plot(source = "Source: https://artventure.me, Data Source: https://expressobeans.com",
width_pixels = 1000,
height_pixels = 800,
save_filepath = "{var}.jpg" %>% glue())
}
c("class", "status", "technique", "markings") %>%
map(~plotQual(data, ..1))
include_graphics("class.jpg")
plotQual <- function(data, var) {
varData <- data %>%
group_by(!!sym(var)) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na()
plot <- varData %>%
ggplot(aes(!!sym(var), n)) +
geom_bar(stat = "identity", fill="steelblue") +
scale_x_discrete(limit = varData %>% pull(!!sym(var))) +
coord_flip() +
labs(title='Number of Art pieces for Variable "{var}"' %>% glue)
bbc_style()
plot %>%
finalise_plot(source = "Source: https://artventure.me, Data Source: https://expressobeans.com",
width_pixels = 1000,
height_pixels = 800,
save_filepath = "{var}.jpg" %>% glue())
}
c("class", "status", "technique", "markings") %>%
map(~plotQual(data, ..1))
plotQual <- function(data, var) {
varData <- data %>%
group_by(!!sym(var)) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na()
plot <- varData %>%
ggplot(aes(!!sym(var), n)) +
geom_bar(stat = "identity", fill="steelblue") +
scale_x_discrete(limit = varData %>% pull(!!sym(var))) +
coord_flip() +
labs(title='Number of Art pieces for Variable "{var}"' %>% glue()) %>%
bbc_style()
plot %>%
finalise_plot(source = "Source: https://artventure.me, Data Source: https://expressobeans.com",
width_pixels = 1000,
height_pixels = 800,
save_filepath = "{var}.jpg" %>% glue())
}
c("class", "status", "technique", "markings") %>%
map(~plotQual(data, ..1))
plotQual <- function(data, var) {
varData <- data %>%
group_by(!!sym(var)) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na()
plot <- varData %>%
ggplot(aes(!!sym(var), n)) +
geom_bar(stat = "identity", fill="steelblue") +
scale_x_discrete(limit = varData %>% pull(!!sym(var))) +
coord_flip() +
labs(title='Number of Art pieces for Variable "{var}"' %>% glue()) +
bbc_style()
plot %>%
finalise_plot(source = "Source: https://artventure.me, Data Source: https://expressobeans.com",
width_pixels = 1000,
height_pixels = 800,
save_filepath = "{var}.jpg" %>% glue())
}
c("class", "status", "technique", "markings") %>%
map(~plotQual(data, ..1))
include_graphics("class.jpg")
plotQual <- function(data, var) {
varData <- data %>%
group_by(!!sym(var)) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na()
plot <- varData %>%
ggplot(aes(!!sym(var), n)) +
geom_bar(stat = "identity", fill="steelblue") +
scale_x_discrete(limit = varData %>% pull(!!sym(var))) +
coord_flip() +
labs(title='Number of Art PIeces for Variable "{var}"' %>% glue()) +
bbc_style()
plot %>%
finalise_plot(source = "Source: https://artventure.me, Data Source: https://expressobeans.com",
width_pixels = 1000,
height_pixels = 800,
save_filepath = "{var}.jpg" %>% glue())
}
c("class", "status", "technique", "markings") %>%
map(~plotQual(data, ..1))
include_graphics("class.jpg")
var <- "class"
data %>%
group_by(!!sym(var)) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na()
var <- "class"
data %>%
group_by(!!sym(var)) %>%
mutate(total=n()) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na()
var <- "class"
data %>%
group_by() %>%
summarise(total = n()) %>%
group_by(!!sym(var),total) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na()
var <- "class"
data %>%
group_by() %>%
mutate(total = n()) %>%
group_by(!!sym(var),total) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na()
var <- "class"
data %>%
group_by() %>%
mutate(total = n()) %>%
group_by(!!sym(var),total) %>%
summarise(n = n(), pct=n/total) %>%
arrange(n) %>%
drop_na()
var <- "class"
data %>%
group_by() %>%
mutate(total = n()) %>%
group_by(!!sym(var),total) %>%
drop_na() %>%
summarise(n = n(), pct=n/total) %>%
arrange(n)
var <- "class"
data %>%
drop_na(!!sym(var)) %>%
group_by() %>%
mutate(total = n()) %>%
group_by(!!sym(var),total) %>%
summarise(n = n(), pct=n/total) %>%
arrange(n)
var <- "class"
data %>%
drop_na(!!sym(var)) %>%
group_by() %>%
mutate(total = n()) %>%
group_by(!!sym(var)) %>%
summarise(n = n(), pct=n/total) %>%
arrange(n)
var <- "class"
data %>%
group_by(!!sym(var)) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na()
var <- "class"
data %>%
group_by(!!sym(var)) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na() %>%
ungroup() %>%
mutate(total=n())
var <- "class"
data %>%
group_by(!!sym(var)) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na() %>%
ungroup()
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var)) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na() %>%
ungroup()
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
arrange(n) %>%
drop_na() %>%
ungroup()
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n(), pct = n/total) %>%
arrange(n) %>%
drop_na() %>%
ungroup()
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
ungroup() %>%
arrange(n) %>%
drop_na() %>%
ungroup()
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total) %>%
arrange(n) %>%
drop_na() %>%
ungroup()
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total) %>%
arrange(-n) %>%
drop_na() %>%
ungroup()
var <- "class"
data %>%
drop_na(!!sym(var)) %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total) %>%
arrange(-n) %>%
drop_na() %>%
ungroup()
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total) %>%
arrange(-n) %>%
drop_na() %>%
ungroup()
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total) %>%
arrange(-n) %>%
drop_na() %>%
ungroup()
plotQual <- function(data, var) {
varData <- data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total) %>%
arrange(-n) %>%
drop_na() %>%
ungroup()
plot1 <- varData %>%
ggplot(aes(!!sym(var), n)) +
geom_bar(stat = "identity", fill="steelblue") +
scale_x_discrete(limit = varData %>% pull(!!sym(var))) +
coord_flip() +
labs(title='Number of Art PIeces for Variable "{var}"' %>% glue()) +
bbc_style()
plot %>%
finalise_plot(source = "Source: https://artventure.me, Data Source: https://expressobeans.com",
width_pixels = 1000,
height_pixels = 800,
save_filepath = "{var}.jpg" %>% glue())
}
c("class", "status", "technique", "markings") %>%
map(~plotQual(data, ..1))
plotQual <- function(data, var) {
varData <- data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total) %>%
arrange(-n) %>%
drop_na() %>%
ungroup()
plot1 <- varData %>%
ggplot(aes(!!sym(var), n)) +
geom_bar(stat = "identity", fill="steelblue") +
scale_x_discrete(limit = varData %>% pull(!!sym(var))) +
coord_flip() +
labs(title='Number of Art PIeces for Variable "{var}"' %>% glue()) +
bbc_style()
plot1 %>%
finalise_plot(source = "Source: https://artventure.me, Data Source: https://expressobeans.com",
width_pixels = 1000,
height_pixels = 800,
save_filepath = "{var}.jpg" %>% glue())
}
c("class", "status", "technique", "markings") %>%
map(~plotQual(data, ..1))
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total*100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(x = class, ))
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total*100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(x = class, y = pct, fill=!!sym(var))) +
geom_bar(stat = "identity")
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total*100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(x = class, y = pct, fill=!!sym(var))) +
geom_bar(stat = "identity", ) +
scale_fill_tableau(palette="Tableau 20")
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total*100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(x = class, y = pct, fill=!!sym(var))) +
geom_bar(stat = "identity", position = "stack") +
scale_fill_tableau(palette="Tableau 20")
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total*100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(x = class, y = pct, fill=!!sym(var))) +
geom_bar(position = "stack") +
scale_fill_tableau(palette="Tableau 20")
?geom_bar
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total*100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(x = class, y=pct) +
geom_bar(stat = "identity") +
scale_fill_tableau(palette="Tableau 20")
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total*100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(x = class, y=pct) +
geom_bar(stat = "identity") +
scale_fill_tableau(palette="Tableau 20")
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total*100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(x = class, y=pct)) +
geom_bar(stat = "identity") +
scale_fill_tableau(palette="Tableau 20")
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total*100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(x = pct, fill=!!sym(var))) +
geom_bar(stat = "identity") +
scale_fill_tableau(palette="Tableau 20")
var <- "class"
data %>%
mutate(total=n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct=n/total*100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(x = pct, y=!!sym(var), fill=!!sym(var))) +
geom_bar(stat = "identity") +
scale_fill_tableau(palette="Tableau 20")
var <- "class"
data %>%
mutate(total = n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct = n / total * 100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(
x = !!sym(var),
y = pct,
fill = !!sym(var)
)) +
geom_bar(stat = "identity", position = "stack") +
scale_fill_tableau(palette = "Tableau 20")
var <- "class"
data %>%
mutate(total = n()) %>%
group_by(!!sym(var), total) %>%
summarise(n = n()) %>%
mutate(pct = n / total * 100) %>%
arrange(-n) %>%
drop_na() %>%
ungroup() %>%
ggplot(aes(
x = !!sym(var),
y = pct,
fill = !!sym(var)
)) +
geom_bar(stat = "identity", position = "fill") +
scale_fill_tableau(palette = "Tableau 20")
